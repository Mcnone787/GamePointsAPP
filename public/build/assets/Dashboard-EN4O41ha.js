import{q as w,k as K,u as N,g as v,a as l,d as o,h as I,w as f,b as e,i as S,t as d,j as P,v as q,n as m,o as p,F as R,s as E,c as L,m as y,f as V,x as $}from"./app-3w8CR32O.js";import{_ as O}from"./AuthenticatedLayout-XRrgTSGz.js";import{_ as T}from"./Modal-k6WWVOPi.js";import{_ as B,a as D}from"./TextInput-PDpAZ6JR.js";import{_ as M}from"./InputError-s5QuG3l6.js";import"./DropdownLink-lbYQeXGc.js";const G={class:"grid grid-cols-1 lg:grid-cols-12 gap-6 lg:gap-8 items-start"},J={class:"lg:col-span-3 space-y-4 order-2 lg:order-1 sticky top-24"},Q={class:"lg:col-span-6 space-y-6 order-1 lg:order-2"},W={class:"bg-gradient-to-r from-violet-600 to-indigo-600 rounded-3xl p-8 text-white shadow-xl shadow-indigo-200 relative overflow-hidden"},X={class:"relative z-10"},Y={class:"text-3xl font-black mb-1 tracking-tight"},Z={class:"bg-white p-2 rounded-2xl shadow-sm border border-slate-100 flex flex-col sm:flex-row gap-2"},ee={class:"relative flex-1"},te={class:"flex bg-slate-100 p-1 rounded-xl"},se={class:"space-y-3"},oe={key:0,class:"text-center py-12 bg-white rounded-3xl border-2 border-dashed border-slate-200"},le={class:"flex items-center justify-between"},ae={class:"flex items-center gap-4"},re={class:"font-bold text-lg text-slate-800 leading-tight group-hover:text-indigo-700 transition-colors"},ne={class:"flex items-center gap-2 mt-1.5"},ie={class:"text-[10px] font-bold px-2 py-0.5 rounded-md uppercase tracking-wider bg-slate-100 text-slate-500 flex items-center gap-1"},de={class:"flex flex-col items-end gap-2"},ue={class:"text-xs font-medium text-slate-400"},ce={key:0,class:"mt-6 flex justify-center"},xe={class:"flex gap-2"},me={class:"lg:col-span-3 space-y-6 order-3 sticky top-24"},pe={class:"bg-white rounded-3xl p-6 shadow-sm border border-slate-100 text-center"},ge={class:"h-20 w-20 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold text-3xl shadow-inner mb-4 ring-4 ring-white mx-auto"},fe={class:"text-lg font-black text-slate-800 truncate"},be={class:"text-xs text-slate-500 mb-6 truncate"},ve={class:"grid grid-cols-2 gap-2 mb-6"},he={class:"bg-slate-50 p-3 rounded-2xl"},we={class:"block text-xl font-black text-indigo-600 leading-none"},ye={class:"bg-slate-50 p-3 rounded-2xl"},ke={class:"block text-xl font-black text-emerald-600 leading-none"},Ce={class:"space-y-2"},_e={class:"p-6 text-center"},je={class:"mt-6 space-y-4 text-left"},Re={class:"mt-8 flex gap-3"},Ve=["disabled"],$e={class:"p-6 text-center"},Be={class:"mt-6 text-left"},Ee={__name:"Dashboard",props:{userRooms:Object,joinedRooms:Array},setup(u){const k=u,i=w("all"),h=w(""),U=K(()=>{var b;const a=((b=k.userRooms)==null?void 0:b.data)||k.userRooms||[],t=k.joinedRooms||[];let c=[...a.map(r=>({...r,role:"creator"})),...t.map(r=>({...r,role:"player"}))];if(i.value!=="all"&&(c=c.filter(r=>r.role===i.value)),h.value){const r=h.value.toLowerCase();c=c.filter(s=>s.name&&s.name.toLowerCase().includes(r)||s.code.toLowerCase().includes(r))}return c.sort((r,s)=>new Date(s.created_at)-new Date(r.created_at))}),A=a=>{const t=["bg-orange-100 text-orange-600","bg-amber-100 text-amber-600","bg-emerald-100 text-emerald-600","bg-teal-100 text-teal-600","bg-cyan-100 text-cyan-600","bg-indigo-100 text-indigo-600","bg-violet-100 text-violet-600","bg-fuchsia-100 text-fuchsia-600","bg-rose-100 text-rose-600"];return t[a%t.length]},H=a=>{if(!a)return"";const t=new Date(a);return new Intl.DateTimeFormat("es-ES",{month:"short",day:"numeric"}).format(t)},C=w(!1),_=w(!1),n=N({name:"",initial_points:20}),x=N({code:""}),j=()=>n.post(route("rooms.store"),{onSuccess:g,onFinish:()=>n.reset()}),F=()=>x.post(route("rooms.join.post"),{onSuccess:g,onFinish:()=>x.reset()}),g=()=>{C.value=!1,_.value=!1,n.reset(),x.reset(),n.clearErrors(),x.clearErrors()};return(a,t)=>(p(),v(R,null,[l(o(I),{title:"Inicio"}),l(O,null,{default:f(()=>{var c,b,r;return[e("div",G,[e("div",J,[t[11]||(t[11]=e("h3",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider ml-1 mb-2 hidden lg:block"},"Men煤",-1)),e("button",{onClick:t[0]||(t[0]=s=>C.value=!0),class:"w-full bg-white hover:bg-indigo-50 text-slate-700 hover:text-indigo-700 rounded-2xl p-4 shadow-sm border-2 border-slate-100 hover:border-indigo-200 transition-all active:scale-95 group flex items-center gap-3"},[...t[9]||(t[9]=[e("div",{class:"bg-indigo-100 text-indigo-600 p-2.5 rounded-xl group-hover:scale-110 transition-transform"},[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M12 4v16m8-8H4"})])],-1),e("span",{class:"font-bold text-lg"},"Crear Sala",-1)])]),e("button",{onClick:t[1]||(t[1]=s=>_.value=!0),class:"w-full bg-white hover:bg-emerald-50 text-slate-700 hover:text-emerald-700 rounded-2xl p-4 shadow-sm border-2 border-slate-100 hover:border-emerald-200 transition-all active:scale-95 group flex items-center gap-3"},[...t[10]||(t[10]=[e("div",{class:"bg-emerald-100 text-emerald-600 p-2.5 rounded-xl group-hover:scale-110 transition-transform"},[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})])],-1),e("span",{class:"font-bold text-lg"},"Unirse",-1)])])]),e("div",Q,[e("div",W,[t[13]||(t[13]=e("div",{class:"absolute top-0 right-0 -mt-4 -mr-4 w-32 h-32 bg-white/10 rounded-full blur-2xl"},null,-1)),e("div",X,[e("h1",Y,"隆Hola, "+d(a.$page.props.auth.user.name)+"! ",1),t[12]||(t[12]=e("p",{class:"text-indigo-100 font-medium text-sm"},"Gestiona tus puntos y gana partidas.",-1))])]),e("div",Z,[e("div",ee,[t[14]||(t[14]=e("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),P(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>h.value=s),type:"text",placeholder:"Buscar sala...",class:"w-full pl-10 pr-4 py-2 bg-slate-50 border-transparent focus:bg-white focus:border-indigo-300 focus:ring-0 rounded-xl text-sm font-medium transition-all placeholder-slate-400"},null,512),[[q,h.value]])]),e("div",te,[e("button",{onClick:t[3]||(t[3]=s=>i.value="all"),class:m([{"bg-white text-slate-800 shadow-sm":i.value==="all","text-slate-500 hover:text-slate-700":i.value!=="all"},"px-3 py-1.5 rounded-lg text-xs font-bold transition-all"])},"Todas",2),e("button",{onClick:t[4]||(t[4]=s=>i.value="creator"),class:m([{"bg-white text-indigo-600 shadow-sm":i.value==="creator","text-slate-500 hover:text-slate-700":i.value!=="creator"},"px-3 py-1.5 rounded-lg text-xs font-bold transition-all"])},"Creadas",2),e("button",{onClick:t[5]||(t[5]=s=>i.value="player"),class:m([{"bg-white text-emerald-600 shadow-sm":i.value==="player","text-slate-500 hover:text-slate-700":i.value!=="player"},"px-3 py-1.5 rounded-lg text-xs font-bold transition-all"])},"Unidas",2)])]),e("div",se,[U.value.length===0?(p(),v("div",oe,[...t[15]||(t[15]=[e("div",{class:"text-4xl mb-3 opacity-50"},"",-1),e("p",{class:"text-slate-400 font-medium"},"No se encontraron partidas.",-1)])])):S("",!0),(p(!0),v(R,null,E(U.value,s=>(p(),L(o(y),{key:s.id,href:a.route("rooms.show",s.code),class:"block bg-white p-4 rounded-2xl border border-slate-100 hover:border-indigo-300 hover:shadow-md transition-all group relative overflow-hidden"},{default:f(()=>[e("div",le,[e("div",ae,[e("div",{class:m(["h-14 w-14 rounded-2xl flex flex-col items-center justify-center font-black text-xl shadow-sm transition-transform group-hover:scale-105",A(s.id)])},[e("span",null,d(s.name?s.name.charAt(0).toUpperCase():"#"),1)],2),e("div",null,[e("h3",re,d(s.name||"Sala sin nombre"),1),e("div",ne,[e("span",ie,[t[16]||(t[16]=e("svg",{class:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),V(" "+d(s.code),1)]),e("span",{class:m(["text-[10px] font-bold px-2 py-0.5 rounded-md uppercase tracking-wider flex items-center gap-1",s.role==="creator"?"bg-indigo-50 text-indigo-600":"bg-emerald-50 text-emerald-600"])},d(s.role==="creator"?" Creador":" Jugador"),3)])])]),e("div",de,[e("span",ue,d(H(s.created_at)),1),t[17]||(t[17]=e("div",{class:"bg-slate-50 p-2 rounded-full text-slate-300 group-hover:bg-indigo-600 group-hover:text-white transition-all"},[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M9 5l7 7-7 7"})])],-1))])])]),_:2},1032,["href"]))),128))]),(c=u.userRooms)!=null&&c.links&&u.userRooms.links.length>3?(p(),v("div",ce,[e("nav",xe,[(p(!0),v(R,null,E(u.userRooms.links,(s,z)=>(p(),L(o(y),{key:z,href:s.url||"#",innerHTML:s.label,class:m(["px-4 py-2 rounded-xl border border-slate-200 text-sm font-bold transition-all",{"bg-indigo-600 text-white border-indigo-600":s.active,"bg-white text-slate-600 hover:bg-slate-50":!s.active&&s.url,"bg-slate-100 text-slate-400 cursor-not-allowed":!s.url}])},null,8,["href","innerHTML","class"]))),128))])])):S("",!0)]),e("div",me,[t[22]||(t[22]=e("h3",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider ml-1 mb-2 hidden lg:block"},"Perfil",-1)),e("div",pe,[e("div",ge,d(a.$page.props.auth.user.name.charAt(0).toUpperCase()),1),e("h2",fe,d(a.$page.props.auth.user.name),1),e("p",be,d(a.$page.props.auth.user.email),1),e("div",ve,[e("div",he,[e("span",we,d(((b=u.userRooms)==null?void 0:b.total)||(Array.isArray(u.userRooms)?u.userRooms.length:0)),1),t[18]||(t[18]=e("span",{class:"text-[10px] font-bold text-slate-400 uppercase mt-1 block"},"Creadas",-1))]),e("div",ye,[e("span",ke,d(((r=u.joinedRooms)==null?void 0:r.length)||0),1),t[19]||(t[19]=e("span",{class:"text-[10px] font-bold text-slate-400 uppercase mt-1 block"},"Unidas",-1))])]),e("div",Ce,[l(o(y),{href:a.route("profile.edit"),class:"w-full flex items-center justify-center gap-2 py-2.5 px-4 rounded-xl border border-slate-200 text-slate-600 text-sm font-bold hover:bg-slate-50 transition-colors"},{default:f(()=>[...t[20]||(t[20]=[V(" Configuraci贸n ",-1)])]),_:1},8,["href"]),l(o(y),{href:a.route("logout"),method:"post",as:"button",class:"w-full flex items-center justify-center gap-2 py-2.5 px-4 rounded-xl bg-rose-50 text-rose-600 text-sm font-bold hover:bg-rose-100 transition-colors"},{default:f(()=>[...t[21]||(t[21]=[V(" Cerrar Sesi贸n ",-1)])]),_:1},8,["href"])])])])]),l(T,{show:C.value,onClose:g},{default:f(()=>[e("div",_e,[t[24]||(t[24]=e("div",{class:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl"},"",-1)),t[25]||(t[25]=e("h2",{class:"text-2xl font-black text-slate-800"},"Nueva Sala",-1)),t[26]||(t[26]=e("p",{class:"mt-2 text-sm text-slate-500 mb-6"},"Configura tu partida",-1)),e("div",je,[e("div",null,[l(B,{for:"name",value:"Nombre de la Sala (Opcional)",class:"ml-1 mb-1"}),l(D,{id:"name",modelValue:o(n).name,"onUpdate:modelValue":t[6]||(t[6]=s=>o(n).name=s),type:"text",class:"mt-1 block w-full rounded-xl border-slate-300 py-3",placeholder:"Ej: P贸ker Noche",onKeyup:$(j,["enter"])},null,8,["modelValue"]),l(M,{message:o(n).errors.name,class:"mt-2"},null,8,["message"])]),e("div",null,[l(B,{for:"initial_points",value:"Puntos Iniciales (Vida)",class:"ml-1 mb-1"}),l(D,{id:"initial_points",modelValue:o(n).initial_points,"onUpdate:modelValue":t[7]||(t[7]=s=>o(n).initial_points=s),modelModifiers:{number:!0},type:"number",min:"1",max:"1000",class:"mt-1 block w-full rounded-xl border-slate-300 py-3 text-center text-lg font-bold",onKeyup:$(j,["enter"])},null,8,["modelValue"]),t[23]||(t[23]=e("p",{class:"mt-1 text-xs text-slate-400"},"Los jugadores empezar谩n con esta cantidad de vida",-1)),l(M,{message:o(n).errors.initial_points,class:"mt-2"},null,8,["message"])])]),e("div",Re,[e("button",{onClick:g,class:"flex-1 py-3 rounded-xl border-2 font-bold text-slate-600 hover:bg-slate-50 transition-colors"},"Cancelar"),e("button",{onClick:j,class:m(["flex-1 py-3 rounded-xl bg-indigo-600 text-white font-bold hover:bg-indigo-700 shadow-lg shadow-indigo-200 transition-colors",{"opacity-75":o(n).processing}]),disabled:o(n).processing},"Crear",10,Ve)])])]),_:1},8,["show"]),l(T,{show:_.value,onClose:g},{default:f(()=>[e("div",$e,[t[27]||(t[27]=e("div",{class:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl"},"",-1)),t[28]||(t[28]=e("h2",{class:"text-2xl font-black text-slate-800"},"Unirse",-1)),e("div",Be,[l(B,{for:"code",value:"C贸digo",class:"ml-1 mb-1 text-center w-full"}),l(D,{id:"code",modelValue:o(x).code,"onUpdate:modelValue":t[8]||(t[8]=s=>o(x).code=s),type:"text",class:"mt-1 block w-full text-center font-mono text-2xl tracking-widest uppercase rounded-xl border-slate-300 py-3",placeholder:"ABCDE",onKeyup:$(F,["enter"])},null,8,["modelValue"]),l(M,{message:o(x).errors.code,class:"mt-2 text-center"},null,8,["message"])]),e("div",{class:"mt-8 flex gap-3"},[e("button",{onClick:g,class:"flex-1 py-3 rounded-xl border-2 font-bold text-slate-600"},"Cancelar"),e("button",{onClick:F,class:"flex-1 py-3 rounded-xl bg-emerald-600 text-white font-bold hover:bg-emerald-700 shadow-lg shadow-emerald-200"},"Entrar")])])]),_:1},8,["show"])]}),_:1})],64))}};export{Ee as default};
